<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AES WebSocket Demo</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; }
    #messages { border: 1px solid #ccc; padding: 1rem; height: 300px; overflow-y: scroll; }
    input, button { padding: 0.5rem; font-size: 1rem; margin-top: 0.5rem; }
  </style>
</head>
<body>
  <h2>Gá»­i thÃ´ng Ä‘iá»‡p - Server mÃ£ hÃ³a báº±ng AES</h2>
  <div id="messages"></div>
  <input id="input" type="text" placeholder="Nháº­p thÃ´ng Ä‘iá»‡p">
  <button id="send">Gá»­i</button>

  <script>
    const ws = new WebSocket("ws://localhost:8888/ws");
    const messages = document.getElementById("messages");
    const input = document.getElementById("input");
    const sendBtn = document.getElementById("send");

    ws.onopen = () => append("âœ… ÄÃ£ káº¿t ná»‘i Ä‘áº¿n server");
    ws.onmessage = (e) => append("ğŸ” ÄÃ£ mÃ£ hÃ³a: " + e.data);
    ws.onclose = () => append("âŒ Máº¥t káº¿t ná»‘i");

    sendBtn.onclick = () => {
      const msg = input.value.trim();
      if (msg !== "") {
        ws.send(msg);
        append("ğŸ“¤ ÄÃ£ gá»­i: " + msg);
        input.value = "";
      }
    };

    function append(text) {
      const p = document.createElement("p");
      p.textContent = text;
      messages.appendChild(p);
      messages.scrollTop = messages.scrollHeight;
    }
  </script>
</body>
</html>
